# AWS責任共有モデル
このレクチャーではAWSのセキュリティの基本コンセプトであるAWS責任共有モデルについて確認していきましょう。
## 1. 責任共有モデルとは
![](../../aws_cp_shared_responsibility_model_model_image.png)
責任共有モデルは図のようなモデルになっています。  
AWSクラウドはAWS側が提供する範囲とユーザが設定して自由に使う範囲が別れていますが、インフラの部分などはAWS側が管理しておりユーザ側の管理部分は限定的です。  
そのためこの責任共有モデルを作って、責任範囲を共有しつつ、「ここまではAWS側で責任を持って対応します。ここから先はユーザ側で責任持って対応してください。」というような責任分界をしています。  

AWS側の責任範囲は主にインフラ部分です。  
基本的にAWSクラウドのインフラ自体はユーザ側からは見ることができず、データセンターがどこにあるかも分かりません。  
どこのどのサーバーを使っているかも知ることができません。  
そのためAWS側ではインフラのハードウェアや内部で仮想化を実際に行っているソフトウェア、物理的なネットワークなどのセキュリティを中心に管理・運用を責任範囲としています。

ユーザ側は自身が設定できる範囲でセキュリティを責任持って対応します。  
例えばVPCを作っているならそのネットワークのトラフィック制御はユーザ側の責任です。  
なのでセキュリティグループでトラフィック制御を行う、というような形でユーザ側で利用していて設定できる範囲についてはユーザ側の責任でセキュリティを対応する必要があります。  
## 2. ユーザ側で対応するべきセキュリティ対応の詳細
![](../../aws_cp_shared_responsibility_model_model_detail_image.png)
### 2-1. IAMによるアカウント管理／パスワードルールの設定
IAMによるアクセス管理やパスワードルールの設定などはユーザ側の責任範囲です。  
### 2-2. セキュリティグループの設定など適切なネットワーク設定やトラフィック保護
セキュリティグループやネットワークACLなどを使ってネットワーク設定やトラフィック保護などをします。  
WAFと呼ばれるファイアウォールも含まれます。
### 2-3. 構築したアプリケーションのセキュリティ対応
基本的に作ったシステムやアプリケーションのセキュリティはユーザ側の責任範囲です。
### 2-4. ネットワーク／インスタンスオペレーションシステム（バッチ）などの設定
例えば利用しているEC2インスタンス内のソフトウェアのバッチの設定に関してはユーザ側の責任範囲です。  
逆にユーザが触れないAWS内部で利用している仮想化ソフトウェアのバッチやRDSなどのマネージド型のサービスに対するバッチ処理はAWS側の責任範囲となります。
### 2-5. OSやミドルウェアの脆弱性対応
こちらもEC2のようにユーザが設定したものに対する脆弱性の対応はユーザ側の責任範囲です。  
AWS側で設定しているインフラ部分のものなどはAWS側の責任になります。  
### 2-6. 通信トラフィックの暗号化／保有しているデータの暗号化
こちらもユーザ側で暗号化の設定を行っていくことになります。  
### 特に大事なポイント
これから学習をするIAMによるアカウント管理はユーザアクセスという特に大事な役割を担っているものになり、この責任共有モデルの中のユーザのやるべき責任の第一のものになっていきます。
## 3. 責任共有モデルにおける統制範囲
![](../../aws_cp_shared_responsibility_model_scope_of_control_image.png)
責任共有モデルにおける統制範囲は以下の３つの領域に分かれているとされています。
- 継承される統制
- 共有統制
- ユーザ固有の統制
### 3-1. 継承される統制
継承される統制はユーザがAWSから完全に継承する統制です。  
- 物理統制
- 環境統制
の２つがあります。
#### 3-1-1. 物理統制
インフラなどの物理的な対応についてユーザ側で対応するべきとしてAWS側から継承される統制になります。
#### 3-1-2. 環境統制
ネットワークなどの構成やトラフィック制御などのようなユーザ側でやるべき環境の設定などの統制範囲がAWS側ではなく継承されてユーザ側の責任になる、という統制になっています。
### 3-2. 共有統制
こちらが責任共有モデルにおいて範囲が共有されている１番の範囲になっています。  
双方が統制するという行為が必要になります。  
３つの領域に分かれています。
#### 3-2-1. パッチ管理
インフラの不具合やソフトウェアに対してパッチを適用したり、バージョンアップ更新する際にパッチ適用をしますが、AWS側ではデータセンターに保管されているインフラの中のソフトウェアなどに対してパッチ適用を行います。  
ユーザ側ではゲストOSやアプリケーションへのパッチ適用に責任を負います。
#### 3-2-2. 構成管理
AWSがデータセンターのインフラなどに関しては責任を負いますが、ゲストOSやデータベース、アプリケーションの構成はユーザ側で責任を負います。
#### 3-2-3. 意識とトレーニング
AWSの従業員についてはAWS側でトレーニングを行いますが、自社のユーザのトレーニングはユーザ側で実施をします。
### 3-3. ユーザ固有の統制
AWSサービス上にデプロイするアプリケーションや、AWSリソースを使って作ったアプリケーションについてはユーザが全ての責任を負います。  
それらはユーザが新しく作り出したものなので、ユーザ側で責任を持ってデータの制御や通信トラフィックの制御などを行いましょうというものです。

## 4. まとめ
このような統制範囲の別れ方によって、責任を共有して対応範囲を分けたり共有したりして、AWSを利用していきましょうというのがAWS責任共有モデルとなっています。