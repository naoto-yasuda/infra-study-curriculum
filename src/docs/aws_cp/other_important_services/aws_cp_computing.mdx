# コンピューティング
## 1. コンピューティングとは
アプリケーションを構築する際にサーバーなどのコンピューティングを起動・実行する関連サービス群のことをコンピューティングと言います。

コンピューティングの代表的なサービスとしては以下のようなものがあります。

| サービス名 | 説明 |
|-------|-------|
| Amazon EC2 | AWSを利用して仮想サーバーを立ち上げるサービス<br/>ELB／AutoScaling／セキュリティグループも必須 |
| AWS Lambda | サーバレスでプログラミングコード処理を実行するサービス <br/>EC2のようなサーバーが無い場合でもちょっとしたワークロードやタスク処理を実行させることができます|
| Amazon Lightsail | 仮想サーバー、ストレージ、データベース、およびネットワーキングを予測可能な低価格で提供<br/>一般的なレンタルサーバーの形態と似た形で提供されている |
| Amazon Elastic Container Service<br/>（ECS） | Dockerコンテナをサポートする拡張性とパフォーマンスに優れたコンテナオーケストレーションサービス |

## 2. AWS Lambda
### 2-1. AWS Lambdaとは
![](../../aws_cp_computing_lambda_image.png)
AWS Lambdaとはインフラを気にすること無くアプリケーションコードを実行できるデータ処理サービスです。  
もし元々のサーバー構成がクライアントからのアクセスに対してデータを登録する単純な処理をEC2インスタンスに実行させていれば、Lambdaに置き換えてサーバーレスに実行処理をさせることが可能です。
### 2-2. Lambdaの特徴
LambdaはサーバーレスによりEC2インスタンスの代わりにコードを実行することで効率的なアーキテクチャを実現することができます。  
Lambdaの特徴としては以下のものがあります。
- 実行基盤は全てAWSが管理
- AWSサービスと連携させることで簡単にイベントドリブンなアプリケーションを実装可能
- Node.js/Javaで書かれたコードを実行
- 100ミリ秒単位でコード実行時間に対しての課金でありコスト効率が非常に高い
- オートスケール
### 2-3. Lambdaの仕組み
![](../../aws_cp_computing_lambda_structure.png)
ファンクション（関数）と呼ばれる単位でコーディングしていき、プログラミング言語で処理を記述していきます。  
そしてその処理をアプリからLambdaを呼び出して実行する形です。  
またAPI Gatewayを経由することでAPI形式でLambdaを呼び出すことも可能です。
## 3. Amazon Lightsail
### 3-1. Amazon Lightsailとは
Amazon Lightsailとは秒単位で簡易にWebサーバー構成を実現することができるサーバーフルセットを提供するVPSサービスです。  
### 3-2. EC2と比較したLightsailの特徴
#### 3-2-1. Lightsail
- 簡易的に小規模のアプリケーションやWEBサイトを構築するために利用するVPSを立ち上げる
- サーバー／ストレージ／ネットワーク／スナップショット、ロードバランサー機能、ファイアウォール、DNS機能などがいくつもの機能が予め揃ったオールインワンで利用することが可能
#### 3-2-2. EC2
- 仮想サーバーを立上げて、クラウド上で利用するサービス<br/>小規模なWEBサーバーとしても大規模システム用のサーバーとしても利用可能
- ネットワーク、ストレージ、DNSなどは他のAWSサービスを構築してアーキテクチャを構成することが必要となる
### 3-3. EC2と比較したLightsailのユースケース
#### 3-3-1. Lightsail
- シンプルなWEBサイトを構築する
- 小規模なアプリケーションを構築する
- テスト・開発環境で一時的に利用する
- 社内ツールや小規模なビジネス用ソフトウェアウェアを起動する際に利用する
- スモールスタートでアプリ開発を実施する際に利用する
#### 3-3-2. EC2
- 小規模アプリケーションを構築する
- 複数台／複数レイヤーに及ぶ多層アーキテクチャを構成する際に利用する
- 複数AZにAutoScalingする冗長性の高い構成を実現する
- データ処理やビッグデータ分析用のインスタンスとして処理を実行する
- 厳密な運用監視によって大規模システムを構築する際に利用する
### 3-4. Lightsailの費用
![](../../aws_cp_computing_lightsail_cost_plan.png)
Lightsailは性能に応じた７つの利用プランから選択して利用することが可能です。  
オールインワンで値段が設定されており、イメージが付きやすい形になっています。
## 4. AWSのコンテナサービス
### 4-1. コンテナとは
![](../../aws_cp_computing_container_image.png)
コンテナとはホストマシンのカーネルを利用し、プロセスやユーザなどを隔離する仮想化方式です。
### 4-2. Docker
![](../../aws_cp_computing_docker_image.png)
Dockerはコンテナ型の仮想環境を作成、配布、実行するためのプラットフォームです。
### 4-3. AWSのコンテナサービス
![](../../aws_cp_computing_aws_container_service.png)
AWSでDockerを実現するための関連サービスはECR/ECS/EKSとFargateの４タイプがあります。
## 5. それぞれのサービスのユースケース分け
それぞれのサービスのユースケースに応じた使い分けを理解して、実際の試験問題に対応できるようにする必要があります。

| サービス名 | 説明 |
|-------|-------|
| Amazon EC2 | 仮想サーバーを単体で利用してアプリケーションを一から構成することや、大規模インフラを構成する場合に利用する |
| AWS Lambda | 単発のジョブなどのシステム処理をサーバレスでコスト最適に実行する場合はEC2ではなくLambda関数を利用する |
| Amazon Lightsail | 安価にシンプルなWEBサイトやアプリを利用したい場合にはEC2＋EBS＋Route53などを構成するよりもLightsail |
| Amazon Elastic Container Service<br/>（ECS） | 環境構築を自動化しつつ、CI/CDを実現したい場合はDockerを利用する |