# コマンド操作の学習「mv」
mvコマンドはファイルやディレクトリを移動したりリネームをするコマンドです。  
cpコマンドと同じく色々な場面で利用するためこちらもしっかり覚えましょう。
## 1. 基本コマンド
ファイルを移動する場合は下記のコマンドで行うことができます。
```shell
mv <移動元> <移動先>

例：testディレクトリのtest01ファイルをtest_moveディレクトリにtest01_moveとして
　　移動したい場合
mv test/test01 test_move/test01_move
```
ファイル名を変更せずに移動する場合は、移動先にはディレクトリ名だけを記載します。
```shell
例：testディレクトリのtest01ファイルを名前はそのままtest_moveディレクトリに
　　移動したい場合
mv test/test01 test_move/
```
ワイルドカードを使ってディレクトリ配下のファイルを一括で移動したり、条件に合うファイルを一括で移動することもできます。
```shell
例：testディレクトリ配下のファイルをtest_moveディレクトリに移動したい場合
mv test/* test_move/

例：testディレクトリ配下の.txt拡張子のファイルをtest_moveディレクトリに移動したい場合
mv test/*.txt test_move/
```
複数ファイルを移動したい場合は以下の形で指定します。
```shell
mv <移動元その１> <移動元その２> <移動先ディレクトリ>

例：testディレクトリ配下のtest01、test02をtest_moveに移動したい場合
mv test/test01 test/test02 test_move
```
ファイルをリネームしたい場合は移動元と移動先を同じディレクトリにして指定します。
```shell
例：testディレクトリのtest01ファイルをtest01_renameとしてリネームしたい場合
mv test/test01 test_move/test01_rename
```
## 2. 便利なmvコマンドのオプション
### 2-1. -iオプション：上書きになる時は確認を行う
-iオプションを利用することで上書き移動をする場合に確認を行うようになります。  
上書きしてしまうと元に戻せないので、重要なファイルを扱っている際は便利です。
```shell
mv -i <移動元> <移動先>
```
### 2-2. -bオプション：上書き時にバックアップファイルを作成する
-bオプションを利用することで上書き時にバックアップファイルを作成することができます。  
上述の-iオプションで確認を行うことも大事ですが、バックアップファイルを作ることでより安全に作業が行なえます。
```shell
mv -b <移動元> <移動先>

例：testディレクトリのtest01.txtをtest_moveディレクトリにtest01.txtとして
　　バックアップファイルを作りつつ上書き移動する場合
mv -b test/test01.txt test_move/test01.txt
※バックアップファイルはtest01.txt~として作成されます
```
バックアップ時に後ろに付ける文字列は--suffixオプションで指定することができます。  
基本的には以下のように指定して日付を付けるのがおすすめです。
```shell
mv -b --suffix=_$(date +%Y%m%d) <移動元> <移動先>

例：testディレクトリのtest01.txtをtest_moveディレクトリにtest01.txtとして
　　バックアップファイルを作りつつ上書き移動する場合
mv -b --suffix=_$(date +%Y%m%d) test/test01.txt test_move/test01.txt
※バックアップファイルはtest01.txt_20210921のように日付が付与されて作成されます
```
### 2-4. -vオプション：移動した情報を表示
-vオプションを利用することで何が移動されたかの情報を表示してくれます。  
ワイルドカードを使ってファイルを移動した際に付けておくと分かりやすくて便利です。
```shell
mv -v <移動元> <移動先>

例：testディレクトリ配下の.txt拡張子のファイルをtest_moveディレクトリに移動したい場合
mv test/*.txt test_move/

※実行結果例
`test/test01.txt` -> `test_move/test01.txt`
`test/test02.txt` -> `test_move/test02.txt`
`test/test03.txt` -> `test_move/test03.txt`
`test/test04.txt` -> `test_move/test04.txt`
`test/test05.txt` -> `test_move/test05.txt`
```
## 3. 学習用サーバーに接続して、実際にコマンドを試してみましょう