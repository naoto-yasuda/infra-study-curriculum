# 環境変数とPATH
## 1. 環境変数とは
環境変数とはローカルの環境で利用できる変数のことで、Windows・Linuxどちらでもある機能になります。  
例えば以下のコマンドを実行してみてください。
```shell
export TEST="TEST_ENVIRONMENT_VARIABLE"
```
exportコマンドでTEST変数に対して文字列を代入しています。  

以下のコマンドを実行して、TEST変数の中身を確認してみましょう。
```shell
printenv TEST
```
「TEST_ENVIRONMENT_VARIABLE」と文字列が表示されると思います。
この様に環境変数は設定することで同じ環境内で使い回すことができます。

exportコマンドの場合はサーバーからログアウトするまでは変数は有効です。  
一度ログアウトした段階で使えなくなりますので注意しましょう。
## 2. PATHとは
PATHとは元々デフォルトで定義されている環境変数です。  
この環境変数にディレクトリパスを定義しておくと、何かしらのコマンドを実行しようとした際にPATHで指定されたディレクトリから実行ファイルを探してくれます。  
例えばlsコマンドなどは絶対パスで指定することなく、ただ「ls」と入力するだけで実行ができますが、これはlsコマンドの実行ファイルが配置されているディレクトリがPATHで定義されているからです。  

以下のコマンドを実行してみてください。
```shell
printenv PATH
```

色々なディレクトリパスが表示されるかと思いますが、その中の「/usr/bin」ディレクトリの中身を見てみましょう。
```shell
ls /usr/bin
```
沢山のコマンドの実行ファイルと共にlsコマンドの実行ファイルが見つかるはずです。  
lsコマンドを実行時、実際はこの「/usr/bin/ls」が実行されているのです。  
ただPATHへので「/usr/bin」が指定されているので、「ls」と入力するだけでも実行ファイルを参照することが出来るのです。

例えば自分で何かバッチファイルを作成したり、新しくソフトウェアをインストールした際にPATHにディレクトリパスを追加することで都度実行ファイルの配置先を絶対パスで指定する必要が無くなります。  
この設定をすることを「パスを通す」と言います。
## 3. PATHへの追加方法
### 3-1. 一時的な追加
一時的に追加したい場合は先程使ったexportコマンドを利用します。
```shell
export PATH=$PATH:<ディレクトリパス1>:<ディレクトリパス2>:<ディレクトリパス3>
```
最初に「$PATH」と記載しているのは既存のPATHを上書きしないためです。  
また複数登録する場合は上記のコマンドのように「:」で挟んで記載します。

ただ上述したようにログアウトするとPATHはコマンド実行前の値に戻ってしまうので注意が必要です。
### 3-2. 永続的な追加
PATHの設定を永続化したい場合はホームディレクトリの.bashrcもしくは.bash_profileに以下の行を追加します。  
ファイルが存在しない場合は新規作成で問題ありません。
```shell
export PATH=$PATH:<ディレクトリパス1>:<ディレクトリパス2>:<ディレクトリパス3>
```

.bashrcに記載した設定は次回のサーバーログイン時から有効になるため、今ログインしている状態で新しい設定を有効にしたい場合は以下のコマンドを実行してみてください。
```shell
source ~/.bashrc
```